{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Switch officer contact to WhatsApp Calling only (remove SMS and device tel links)",
  "requirements": [
    {
      "id": "REQ-45",
      "summary": "Remove all SMS contact actions and SMS-related UI/error flows so the app no longer offers any “Send SMS” behavior.",
      "acceptanceCriteria": [
        "In `frontend/src/components/messaging/OfficerMessageComposer.tsx`, the \"Send SMS from This Device\" button is removed and no SMS error state can be triggered.",
        "In `frontend/src/components/officers/OfficerList.tsx`, the \"Send SMS from This Device\" dropdown action is removed.",
        "No user-facing text mentions SMS as a supported contact option in the affected components."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/messaging/OfficerMessageComposer.tsx",
          "operation": "modify",
          "description": "Remove all SMS functionality: drop `sendSms` import, remove `smsError` state and `handleSendSms`, delete the \"Send SMS from This Device\" button and destructive SMS error Alert block, and update any remaining user-facing text to exclude SMS. Keep the existing copy-to-clipboard flow. Uses shadcn-ui primitives already present (Card/Button/Alert/etc.) for layout and messaging—verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/components/officers/OfficerList.tsx",
          "operation": "modify",
          "description": "Remove SMS action logic and UI: delete `sendSms`/`generateDefaultSmsMessage` imports and handler, and remove the \"Send SMS from This Device\" DropdownMenuItem. Ensure no remaining labels/descriptions mention SMS. Uses shadcn-ui DropdownMenu/Table/Button—verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/pages/Officers.tsx",
          "operation": "modify",
          "description": "Update the Officers Directory explanatory text to remove SMS references (and align with WhatsApp handoff-only contact). Keep all user-facing text in English. Uses shadcn-ui Card/Button/Input—verify the component's usage instructions before implementing."
        }
      ]
    },
    {
      "id": "REQ-46",
      "summary": "Remove all device-based calling via tel: links and offer officer calling only as a WhatsApp handoff with clear in-app guidance.",
      "acceptanceCriteria": [
        "In `frontend/src/components/messaging/OfficerMessageComposer.tsx`, the `tel:` call button/link is removed.",
        "In `frontend/src/components/officers/OfficerList.tsx`, the `tel:` call action is removed from the actions dropdown.",
        "The Officers list continues to provide a WhatsApp call option that opens WhatsApp and shows English guidance that the user must start the voice call from within WhatsApp.",
        "No UI element implies the web app can place a phone call directly from the browser/device using a link."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/messaging/OfficerMessageComposer.tsx",
          "operation": "modify",
          "description": "Remove the `tel:` anchor/button (and related Phone icon usage). Replace it with a WhatsApp calling handoff action that opens WhatsApp (via existing WhatsApp helper) and shows English guidance that the user must start the voice call inside WhatsApp. Ensure no copy or help text implies direct browser/device dialing. Uses shadcn-ui Button/Alert components for the action and guidance—verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/components/officers/OfficerList.tsx",
          "operation": "modify",
          "description": "Remove the `tel:` DropdownMenuItem (and related Phone icon usage) from the actions menu. Keep a WhatsApp call option that opens WhatsApp and provides English guidance (e.g., via toast) instructing the user to start the voice call within WhatsApp. Uses shadcn-ui DropdownMenu components—verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/pages/Officers.tsx",
          "operation": "modify",
          "description": "Ensure any Officers page copy does not mention device calling or `tel:` links and reinforces WhatsApp call handoff only (English text). Uses shadcn-ui typography/layout—verify the component's usage instructions before implementing."
        }
      ]
    },
    {
      "id": "REQ-47",
      "summary": "Update the Dashboard Officer Messaging card to prioritize WhatsApp calling handoff while keeping the composed alert payload copy-to-clipboard workflow.",
      "acceptanceCriteria": [
        "In `frontend/src/components/messaging/OfficerMessageComposer.tsx`, provide a clear WhatsApp call handoff action (separate from chat if both are kept) that opens WhatsApp for the selected officer and displays English guidance to start the call inside WhatsApp.",
        "The message text remains copyable via the existing copy action.",
        "The informational/help text in the card is updated to describe only WhatsApp chat/call handoff and copying the message (no SMS or `tel:` references)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/messaging/OfficerMessageComposer.tsx",
          "operation": "modify",
          "description": "Revise the Officer Messaging card CTA area to include a dedicated WhatsApp calling handoff action (distinct from WhatsApp chat if chat remains). Keep the existing copy action unchanged. Update the informational/help Alert text to describe only: WhatsApp chat handoff (optional), WhatsApp call handoff (user starts the voice call inside WhatsApp), and copying the message—removing all SMS and `tel:` references. Uses shadcn-ui Card/Alert/Button primitives already present—verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/pages/Dashboard.tsx",
          "operation": "modify",
          "description": "If needed after adjusting the composer content/height, make small layout tweaks around the OfficerMessageComposer placement to maintain a clean dashboard layout, without introducing new contact options or any SMS/`tel:` references. Uses existing shadcn-ui layout components—verify the component's usage instructions before implementing."
        }
      ]
    }
  ]
}